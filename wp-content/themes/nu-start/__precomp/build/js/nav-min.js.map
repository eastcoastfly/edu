{"version":3,"names":["$","window","document","click","find","val","main_nav","searchToggle","undefined","navicons","navlinks","submenuToggles","parentMenuItems","_init","on","event","target","closest","length","_reset_all_revealed_elems","_did_click_searchform_toggle","_did_click_submenu_toggle","_did_click_navicons","removeClass","innerWidth","parent","e","delegateTarget","toggleClass","the_toggled_menu_item","offsetParent","the_top_level_parent_item","siblings","this","next","jQuery"],"sources":["../../source/js/nav.js"],"sourcesContent":["(function ($, window, document) {\n\t//\n\t// ... code out here will run immediately on load\n\t//\n\t//\n\tconst debounce = function (func, delay) {\n\t\tlet timer;\n\t\treturn function () {\n\t\t\t//anonymous function\n\t\t\tconst context = this;\n\t\t\tconst args = arguments;\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = setTimeout(() => {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t//\n\tconst throttle = (func, limit) => {\n\t\tlet inThrottle;\n\t\treturn function () {\n\t\t\tconst args = arguments;\n\t\t\tconst context = this;\n\t\t\tif (!inThrottle) {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t\tinThrottle = true;\n\t\t\t\tsetTimeout(() => (inThrottle = false), limit);\n\t\t\t}\n\t\t};\n\t};\n\t$(function () {\n\t\tconst headerNav = {\n\t\t\t//\n\t\t\theaderElem: $(\"header.header\"),\n\t\t\t//\n\t\t\t_instance: function () {},\n\t\t\t//\n\t\t\t_navIconHandler: function () {},\n\t\t\t_resizeHandler: function () {},\n\t\t\t_scrollHandler: function () {},\n\t\t\t_closeAllMenus: function () {},\n\t\t};\n\n\t\t//\n\t\t// * Clear the search form for WP-style search (on search results page)\n\t\t$(\".nu__sitesearch-close\").click(function () {\n\t\t\t$(\".search-results-info\").find(\".search-field\").val(\"\");\n\t\t\t$(\".navlinks--container\").find(\".search-field\").val(\"\");\n\t\t});\n\n\t\t//\n\t\t// ... code in here will run after jQuery says document is ready\n\t\t//\n\t\tconst main_nav = {\n\t\t\tsearchToggle: undefined,\n\t\t\tnavicons: undefined,\n\t\t\tnavlinks: undefined,\n\t\t\tsubmenuToggles: undefined,\n\t\t\tparentMenuItems: undefined,\n\n\t\t\t//\n\t\t\t_init: function () {\n\t\t\t\t//\n\t\t\t\t// hoist variables\n\t\t\t\t//\n\t\t\t\tmain_nav.searchToggle = $(\".sitesearch-container\");\n\t\t\t\tmain_nav.navicons = $(\"header.header > .container > .navicons\");\n\t\t\t\tmain_nav.navlinks = $(\n\t\t\t\t\t\"header.header > .container > .navlinks--container > .navlinks\"\n\t\t\t\t);\n\t\t\t\tmain_nav.submenuToggles = $(main_nav.navlinks).find(\n\t\t\t\t\t\".menu-item-has-children > button.navlinks-showsubmenu\"\n\t\t\t\t);\n\t\t\t\tmain_nav.parentMenuItems = $(main_nav.navlinks).find(\n\t\t\t\t\t\".menu-item-has-children\"\n\t\t\t\t);\n\t\t\t\t//\n\t\t\t\t// attach event handlers\n\t\t\t\t//\n\t\t\t\t$(document).on(\"click\", function (event) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t$(event.target).closest(\"header.header, body.search, .takeover-nav\")\n\t\t\t\t\t\t\t.length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tmain_nav._reset_all_revealed_elems();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ($(\"header.header .navlinks\").length != 0) {\n\t\t\t\t\t$(window).on(\"resize scroll\", main_nav._reset_all_revealed_elems);\n\t\t\t\t}\n\n\t\t\t\tmain_nav.searchToggle.on(\n\t\t\t\t\t\"click\",\n\t\t\t\t\t\".sitesearch-toggle\",\n\t\t\t\t\tmain_nav._did_click_searchform_toggle\n\t\t\t\t);\n\n\t\t\t\tmain_nav.submenuToggles.on(\"click\", main_nav._did_click_submenu_toggle);\n\n\t\t\t\tmain_nav.navicons.on(\"click\", main_nav._did_click_navicons);\n\t\t\t},\n\t\t\t//\n\t\t\t//\n\t\t\t//\n\t\t\t_reset_all_revealed_elems: function () {\n\t\t\t\tif ($(\".sitesearch-container .search-form\").length) {\n\t\t\t\t\tlet site_search_form = $(\n\t\t\t\t\t\t\".sitesearch-container .search-form .search-field\"\n\t\t\t\t\t);\n\t\t\t\t\tsite_search_form.val(\"\");\n\t\t\t\t}\n\n\t\t\t\tmain_nav.parentMenuItems.removeClass(\"revealed\");\n\n\t\t\t\t// ? this is a bit hacky...\n\t\t\t\t// ? - the real problem is that on mobile; when you click the search input it \"scrolls\" the page and closes everything!\n\t\t\t\tif (window.innerWidth >= 1024) {\n\t\t\t\t\tmain_nav.navlinks\n\t\t\t\t\t\t.parent(\".navlinks--container\")\n\t\t\t\t\t\t.removeClass(\"revealed\");\n\n\t\t\t\t\tmain_nav.searchToggle.removeClass(\"revealed\");\n\t\t\t\t\tmain_nav.navicons.removeClass(\"revealed\");\n\t\t\t\t\t$(\"body\").removeClass(\"has-revealed-mobile-navmenu\");\n\t\t\t\t}\n\t\t\t},\n\t\t\t//\n\t\t\t//\n\t\t\t//\n\t\t\t_did_click_searchform_toggle: function (e) {\n\t\t\t\t$(e.delegateTarget).toggleClass(\"revealed\");\n\t\t\t},\n\t\t\t//\n\t\t\t//\n\t\t\t//\n\t\t\t_did_click_submenu_toggle: function (e) {\n\t\t\t\t// traverse up to the <li.menu-item-has-children>\n\t\t\t\tlet the_toggled_menu_item = $(e.target.offsetParent);\n\n\t\t\t\t// traverse up to the top level of this stack in the menu\n\t\t\t\tlet the_top_level_parent_item = $(e.target).closest(\n\t\t\t\t\t\".navlinks > .menu > .menu-item\"\n\t\t\t\t);\n\n\t\t\t\t// hide any open menus that are not in this items lineage\n\t\t\t\t$(the_top_level_parent_item).siblings().removeClass(\"revealed\");\n\t\t\t\t$(the_top_level_parent_item)\n\t\t\t\t\t.siblings()\n\t\t\t\t\t.find(\".revealed\")\n\t\t\t\t\t.removeClass(\"revealed\");\n\t\t\t\t// hide any open menus that are in this items lineage, except the furthest ancestor\n\t\t\t\t$(the_toggled_menu_item).siblings().removeClass(\"revealed\");\n\n\t\t\t\t// reveal this item's submenu\n\t\t\t\tthe_toggled_menu_item.toggleClass(\"revealed\"); // toggle this <li> reveal class (active state)\n\t\t\t},\n\t\t\t//\n\t\t\t//\n\t\t\t//\n\t\t\t_did_click_navicons: function (e) {\n\t\t\t\t$(\"body\").toggleClass(\"has-revealed-mobile-navmenu\");\n\t\t\t\t$(this).toggleClass(\"revealed\");\n\t\t\t\t$(this).next(\".navlinks--container\").toggleClass(\"revealed\");\n\t\t\t},\n\t\t\t//\n\t\t\t//\n\t\t\t//\n\t\t};\n\t\t//\n\t\t//\n\t\t//\n\t\tmain_nav._init();\n\n\t\t//\n\t\t// ? end of $.ready\n\t\t//\n\t});\n})(window.jQuery, window, document);\n"],"mappings":"4FAAA,SAAWA,EAAGC,EAAQC,GA8BrBF,GAAE,WAGYA,EAAE,iBAYfA,EAAE,yBAAyBG,OAAM,WAChCH,EAAE,wBAAwBI,KAAK,iBAAiBC,IAAI,IACpDL,EAAE,wBAAwBI,KAAK,iBAAiBC,IAAI,GACvD,IAKE,MAAMC,EAAW,CAChBC,kBAAcC,EACdC,cAAUD,EACVE,cAAUF,EACVG,oBAAgBH,EAChBI,qBAAiBJ,EAGjBK,MAAO,WAINP,EAASC,aAAeP,EAAE,yBAC1BM,EAASG,SAAWT,EAAE,0CACtBM,EAASI,SAAWV,EACnB,iEAEDM,EAASK,eAAiBX,EAAEM,EAASI,UAAUN,KAC9C,yDAEDE,EAASM,gBAAkBZ,EAAEM,EAASI,UAAUN,KAC/C,2BAKDJ,EAAEE,GAAUY,GAAG,SAAS,SAAUC,GAGnB,IADbf,EAAEe,EAAMC,QAAQC,QAAQ,6CACtBC,QAEFZ,EAASa,2BAEf,IAE+C,GAAvCnB,EAAE,2BAA2BkB,QAChClB,EAAEC,GAAQa,GAAG,gBAAiBR,EAASa,2BAGxCb,EAASC,aAAaO,GACrB,QACA,qBACAR,EAASc,8BAGVd,EAASK,eAAeG,GAAG,QAASR,EAASe,2BAE7Cf,EAASG,SAASK,GAAG,QAASR,EAASgB,oBAC3C,EAIGH,0BAA2B,WAC1B,GAAInB,EAAE,sCAAsCkB,OAAQ,CAC5BlB,EACtB,oDAEgBK,IAAI,GAC1B,CAEIC,EAASM,gBAAgBW,YAAY,YAIjCtB,EAAOuB,YAAc,OACxBlB,EAASI,SACPe,OAAO,wBACPF,YAAY,YAEdjB,EAASC,aAAagB,YAAY,YAClCjB,EAASG,SAASc,YAAY,YAC9BvB,EAAE,QAAQuB,YAAY,+BAE3B,EAIGH,6BAA8B,SAAUM,GACvC1B,EAAE0B,EAAEC,gBAAgBC,YAAY,WACpC,EAIGP,0BAA2B,SAAUK,GAEpC,IAAIG,EAAwB7B,EAAE0B,EAAEV,OAAOc,cAGnCC,EAA4B/B,EAAE0B,EAAEV,QAAQC,QAC3C,kCAIDjB,EAAE+B,GAA2BC,WAAWT,YAAY,YACpDvB,EAAE+B,GACAC,WACA5B,KAAK,aACLmB,YAAY,YAEdvB,EAAE6B,GAAuBG,WAAWT,YAAY,YAGhDM,EAAsBD,YAAY,WACtC,EAIGN,oBAAqB,SAAUI,GAC9B1B,EAAE,QAAQ4B,YAAY,+BACtB5B,EAAEiC,MAAML,YAAY,YACpB5B,EAAEiC,MAAMC,KAAK,wBAAwBN,YAAY,WACrD,GAQEtB,EAASO,OAKX,GACC,CAlLD,CAkLGZ,OAAOkC,OAAQlC,OAAQC,S"}